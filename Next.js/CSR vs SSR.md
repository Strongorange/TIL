# CSR vs SSR

# 📌 Client Side Rendering

**CSR** 은 react, vue 등의 **SPA** 에서 쓰이는 기법으로, 클라이언트 측에서 화면을 구성하고 렌더링을 진행한다.

<img src="https://blog.kakaocdn.net/dn/mvAPF/btrcM1fGQEJ/oqGeGnUFg9wXZOkClMC39k/img.png" />

> 동작단계
>
> 1. 브라우저가 웹사이트 요청을 전송
> 2. CDN이 html 파일과 JS로 접근할 수 있는 링크를 클라이언트로 보낸다
> 3. 클라이언트는 html과 JS를 다운로드 받는다 이때 유저는 아무것도 볼 수 없다
> 4. 다운로드 완료된 JS가 실행되고 사용자는 페이지를 볼 수 있고 상호작용이 가능하다

</br>
</br>
### 초반 사용자 경험이 좋지 않다. 👥

- 클라이언트 측에서 JS 번들 파일을 다운받고 데이터가 담긴 html 파일을 구성하여 렌더링한다.
- 그러면 JS 번들 파일을 다 다운받기 전에는 **빈 html 파일**이 렌더링 되어 사용자는 하얀 화면만 보게된다.
- JS 번들 파일을 다운받는 시간이 오래 걸릴수록 사용자 경험이 나빠진다. (특히 모바일에서)

### 검색엔진최적화 (SEO)에 취약하다. 🔍

- 검색엔진은 html 파일을 바탕으로 검색 결과에 알맞은 사이트인지 판단하여 검색 결과에 노👥출시킨다.
- 하지만 CSR 을 사용하는 앱의 **초기 html 에는 데이터가 없다.**
- JS 를 실생하지 않는 일반 검색엔진은 앱을 제대로 파악할 수 없어 검색 결과에 노출이 어렵다.

### 서버 부하를 줄일 수 있다. 🖥️

- 클라이언트에서 렌더링을 진행하고 서버로부터는 필요한 데이터만 가져오고 갱신하기 때문에 서버 부하는 적다.

</br>
</br>
</br>

# 📌 Server Side Rendering

**SSR** 은 서버 측에서 데이터가 담긴 html 파일을 구성하고 브라우저 측에 전달하는 렌더링 방법

<img src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2F6J4Fs%2FbtrcNnv3HWf%2F3f3KnWPKUBtlU7HshmcuOK%2Fimg.png" />

> 동작단계
>
> 1. 브라우저가 웹사이트 요청을 전송
> 2. Server 는 즉시 렌더링 가능한 html 파일을 만들어 전송 (Ready to Render)
> 3. 클라이언트에게 전달되는 순간 즉시 html은 렌더링되지만 JS 는 적용전이라 상호작용은 불가능
> 4. 클라이언트가 JS를 다운받는다.
> 5. JS를 다운받는 사이에 유저는 컨텐츠를 볼 수 있지만 사이트를 조작할 수 없지만 브라우저는 사용자의 조작을 기억함
> 6. 브라우저가 JS 프레임워크를 실행시킨다
> 7. JS가 성공적으로 컴파일되어 기억하고있던 사용자 조작이 실행되고 웹 페이지는 상호작용 가능한 상태가된다

### 초반 사용자 경험이 좋다. 👥

- JS 번들 파일을 다운받기 전에도 html 상에서 사용자가 볼 수 있는 콘텐츠가 있기 때문에 사용자 경험이 향상된다.

</br>

### 검색엔진최적화 (SEO)에 유리하다. 🔍

- 서버 측에서 데이터가 담긴 html 파일을 반환하기 때문에 검색 엔진이 앱의 페이지 정보를 수집할 수 있어 검색 결과 노출에 유리하다.

</br>

### 서버 부하가 심하다. 🖥️

- 클라이언트가 페이지를 이동하거나, 클릭으로 인한 다른 요청이 생길 때마다 서버 측에서 다시 html 파일을 구성하여 반환한다.
- 화면에서 바뀌지 않는 부분도 리렌더링된다.

</br>

### 👍 NextJS 의 장점

Next.js 는 React에서 SSR을 쉽게 구현할 수 있도록 도와주는 프에임워크.

> 페이지를 SSR 방식으로 pre-rendering 한다.
>
> - 사용자 요청시 Server Side에서 html을 구성하여 브라우저에 전달하여 pre-rendering
> - 이후 JS 파일이 로드되어 JS 코드가 적용하고 **JS가 적용되는 과정을 Hydration**이라한다

</br>

👍 초반 사용자 경험이 좋고 SEO 에 유리

> 사용자가 페이지와 상호작용하며 다른 페이지로 이동할 경우에느느 CSR 방식을 사용한다.
>
> - Link 와 router.push() 를 사용한 페이지 이동은 CSR 방식
>   [참조 Client Side Navigation](https://nextjs.org/learn/basics/navigate-between-pages/client-side)

👍 서버의 부하를 줄일 수 있음.
👍 SSR, CSR 방식의 장점을 모두 사용가능

</br>
</br>
</br>

# 사용 권장 예시

> SSR 이 유리한 경우
>
> - 네트워크가 느릴때 (CSR은 한번에 많은 것을 불러오지만 SSR 은 각 페이지마다 나눠 불러온다)
> - SEO가 중요할 때 (CSR 에서도 가능은 하지만 SSR이 더 유리하다)
> - 최초 로딩이 빨라야하는 사이트를 개발할 때
> - 웹 사이트가 상호작용이 별로 없을 때

> CSR 이 유리한 경우
>
> - 네트워크가 빠를때
> - 서버의 성능이 좋지 않을때
> - 사용자에게 보여줘야 하는 데이터의 양이 많을때. (로딩창을 띄울 수 있다).
> - 사용자와 상호작용할 것들이 많을때 (아예 렌더링 되지 않아서 사용자의 행동을 막는 것이 오히려 유리함)

# 📚 Reference

[SSR과 CSR의 차이](https://proglish.tistory.com/216)  
[CSR vs SSR](https://velog.io/@eunnbi/NextJS-CSR-vs-SSR#-nextjs%EC%9D%98-%EC%9E%A5%EC%A0%90)
